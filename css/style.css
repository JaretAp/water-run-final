:root{
  --cw-yellow:#ffd84d;
  --deep:#0b2140;
  --deep2:#081523;
  --ink:#0f172a;
  --bg:#f7fafc;
  --muted:#94a3b8;
  --good:#22c55e;
  --bad:#ef4444;
}

*{box-sizing:border-box}
html,body{height:100%; min-height:100vh;}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:'Montserrat','Segoe UI','Helvetica Neue',Arial,sans-serif;
  display:flex; flex-direction:column;
}

.screen{
  display:none;
  flex:1 0 auto;
  min-height:0;
  width:100%;
  align-items:center;
  justify-content:center;
  padding:0;
}
.screen.show{ display:flex }

.panel{
  background:#fff;
  border:0;
  border-radius:0;
  padding:28px 24px;
  width:min(92vw,640px);
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
.panel h1{ margin:0 0 8px; font-size:clamp(28px,3.5vw,40px) }
.tagline{ color:var(--muted); margin:0 0 18px }

.global-best-times{
  width:100%;
  display:flex;
  justify-content:center;
  padding:18px 0 14px;
  flex:0 0 auto;
}
.global-best-times .best-times{
  margin:0;
}

.best-times{
  margin:0 0 18px;
  border:2px solid rgba(255,216,77,.45);
  border-radius:0;
  background:linear-gradient(180deg, rgba(8,21,35,.92), rgba(8,21,35,.82));
  color:var(--cw-yellow);
  width:100%;
  text-align:left;
  box-shadow:0 6px 18px rgba(0,0,0,.32);
  overflow:hidden;
}
.best-times-title{
  margin:0;
  padding:10px 18px;
  font-size:1.18rem;
  letter-spacing:.08em;
  text-transform:uppercase;
  background:rgba(255,216,77,.12);
  border-bottom:1px solid rgba(255,216,77,.3);
  text-align:center;
}
.best-times-grid{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:14px 18px 18px;
}
.best-times-item{
  font-weight:600;
  color:inherit;
  display:flex;
  justify-content:space-between;
  font-variant-numeric:tabular-nums;
  letter-spacing:.02em;
}
.best-times-item strong{
  color:var(--cw-yellow);
}

@media (min-width:640px){
  .best-times{
    max-width:480px;
  }
  .best-times-grid{
    flex-direction:row;
    align-items:center;
    justify-content:center;
    gap:18px;
    padding:16px 22px;
  }
  .best-times-item{
    min-width:120px;
  }
}

.start-actions{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:12px;
  margin:26px 0 6px;
}
.start-buttons{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.start-jug{
  display:none;
}

@media (max-width:540px){
  .global-best-times{
    padding:12px 0 8px;
  }
  .best-times{
    max-width:92vw;
  }
  .start-actions{
    flex-direction:row;
    gap:14px;
  }
  .start-jug{
    display:block;
    width:44px;
    height:44px;
    flex-shrink:0;
  }
}

.btn{
  background:var(--cw-yellow); border:0; padding:10px 18px; border-radius:12px;
  font-weight:800; cursor:pointer;
}
.btn-outline{ background:transparent; border:2px solid var(--cw-yellow) }
.btn:disabled{ opacity:.6; cursor:not-allowed }

.hud{
  position:sticky; top:0; z-index:2; background:#fff; border-bottom:1px solid #e2e8f0;
  padding:10px 14px; display:flex; gap:18px; align-items:center; justify-content:space-between;
}

.stage-wrap{
  margin:18px auto; width:min(95vw,540px); aspect-ratio:2/3; border-radius:0; overflow:hidden;
  position:relative; box-shadow:0 10px 30px rgba(0,0,0,.2); outline:2px solid #000;
}
#stage{ width:100%; height:100%; display:block; background:#1f6f2c }

/* Faint lane lines */
.stage-wrap::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    linear-gradient(to bottom, rgba(255,255,255,.05), rgba(255,255,255,0) 40%),
    repeating-linear-gradient(to right,
      transparent 0 32%, rgba(255,255,255,.06) 32% 34%, transparent 34% 66%, rgba(255,255,255,.06) 66% 68%, transparent 68% 100%);
  mix-blend-mode:screen;
}

.toast{
  position:absolute; left:50%; top:14px; transform:translateX(-50%);
  color:#fff; font-weight:800; text-shadow:0 2px 4px rgba(0,0,0,.6);
  opacity:0; transition:opacity .18s;
  pointer-events:none;
}
.milestone-container{width:100%;display:flex;justify-content:center;margin:12px 0 4px;pointer-events:none;}
.milestone-toast{padding:10px 22px;max-width:min(92vw,520px);border-radius:0;background:rgba(12,14,15,0.82);color:var(--cw-yellow);font-weight:700;letter-spacing:.05em;text-transform:uppercase;text-align:center;box-shadow:0 8px 18px rgba(0,0,0,0.25);opacity:0;transform:translateY(-14px);transition:opacity .25s ease, transform .25s ease;}
.milestone-toast.show{opacity:1;transform:translateY(0);}

#screen-game{
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:12px;
}

.footer{ text-align:center; color:var(--muted); padding:10px 12px }

/* Confetti */
.confetti{
  position:absolute; width:6px; height:10px; opacity:.9; top:-10px; animation:fall linear forwards;
}
@keyframes fall{ to{ transform: translateY(120vh) rotate(720deg); opacity:1; } }

.site-footer{margin-top:auto;background:#f9fafb;padding:18px 16px;}
.site-footer .footer-inner{display:flex;justify-content:center;align-items:center;gap:20px;flex-wrap:wrap;font-family:'Montserrat','Segoe UI','Helvetica Neue',Arial,sans-serif;font-weight:600;}
.site-footer a{color:var(--ink);text-decoration:none;letter-spacing:.02em;}
.site-footer a:hover{text-decoration:underline;}

.finish-congrats{
  margin:8px 0;
  font-weight:700;
  color:var(--good);
}
.hidden{display:none;}

