<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Water Run — charity: water</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css?v=15" />
  <link rel="stylesheet" href="css/theme.css?v=15" />
</head>

<body>
  <div class="global-best-times">
    <div class="best-times best-times-top">
      <h3 class="best-times-title">Best Times!</h3>
      <div class="best-times-grid">
        <span class="best-times-item">Easy: <strong id="bestEasy">--</strong></span>
        <span class="best-times-item">Normal: <strong id="bestNormal">--</strong></span>
        <span class="best-times-item">Hard: <strong id="bestHard">--</strong></span>
      </div>
    </div>
  </div>

  <!-- Start -->
  <section id="screen-start" class="screen show">
    <div class="panel">
      <h1>Water Run</h1>
      <p class="tagline">Choose a challenge, dodge obstacles, and race to the finish. Yellow jugs help, black jugs hurt.</p>

      <fieldset id="difficultyPicker" class="difficulty-picker">
        <legend>Select difficulty</legend>
        <label class="difficulty-option">
          <input type="radio" name="difficulty" value="easy">
          <span>Easy</span>
        </label>
        <label class="difficulty-option">
          <input type="radio" name="difficulty" value="normal" checked>
          <span>Normal</span>
        </label>
        <label class="difficulty-option">
          <input type="radio" name="difficulty" value="hard">
          <span>Hard</span>
        </label>
      </fieldset>

      <div class="start-actions">
        <img src="assets/jerry_jug_yellow.svg" alt="Yellow jug" class="start-jug start-jug-yellow" />
        <div class="start-buttons">
          <button id="btnStart" class="btn">Start Game!</button>
          <button id="btnResetScores" class="btn btn-outline btn-small" type="button">Reset Scores</button>
        </div>
        <img src="assets/jerry_jug-black.svg" alt="Black jug" class="start-jug start-jug-black" />
      </div>
    </div>
  </section>

  <!-- Game -->
  <section id="screen-game" class="screen">
    <div class="milestone-container">
      <div id="milestoneToast" class="milestone-toast" aria-live="polite"></div>
    </div>
    <div class="stage-wrap">
      <div class="overlay-hud" aria-hidden="true">
        <div class="hud-pill"><span>Time:</span><strong id="hudTime">0.00s</strong></div>
        <div class="hud-pill"><span>Jugs:</span><strong id="hudJugs">0</strong></div>
      </div>

      <!-- In-game controls (clickable) -->
      <div class="overlay-ctrl" aria-label="in-game controls">
        <button id="btnResetInGame" class="btn btn-ghost btn-small" type="button">Reset</button>
      </div>

      <!-- Touch zones for phones/tablets -->
      <div id="touchUpZone" class="touch-zone up" aria-hidden="true"></div>
      <div id="touchDownZone" class="touch-zone down" aria-hidden="true"></div>
      <div id="touchLeftZone" class="touch-zone left" aria-hidden="true"></div>
      <div id="touchRightZone" class="touch-zone right" aria-hidden="true"></div>

      <canvas id="stage" width="480" height="720"></canvas>

      <div id="toast" class="toast" aria-live="polite"></div>

      <!-- Game instructions -->
      <div id="instructions" class="game-instructions">
        <p><strong>Use Arrow Keys</strong> to move left, right, up, and down.</p>
        <p>Collect <img src="assets/jerry_jug_yellow.svg" alt="Yellow jug" class="jug-icon jug-yellow"> to reduce time.</p>
        <p>Avoid <img src="assets/jerry_jug-black.svg" alt="Black jug" class="jug-icon jug-black"> — they add time.</p>
        <p>Blocked barricades force you to weave into another lane.</p>
        <p>Press any arrow key to <strong>start</strong> the run!</p>
      </div>
    </div>
  </section>

  <!-- Finish -->
  <section id="screen-over" class="screen">
    <div class="panel">
      <h2>Game Over!</h2>
      <p class="scoreline">Final Time: <span id="finalTime">0.00</span>s</p>
      <p class="msg">Each jug helped lower your time. Hazards added seconds.</p>
      <p id="finishCongrats" class="finish-congrats hidden">New best time! Fantastic run!</p>
      <button id="btnPlayAgain" class="btn">Race again</button>
      <button id="btnBackToMenu" class="btn btn-outline" type="button">Back to Main Menu</button>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-inner">
      <a class="footer-brand" href="https://www.charitywater.org" target="_blank" rel="noopener noreferrer">charity: water</a>
      <a class="footer-cta" href="https://www.charitywater.org" target="_blank" rel="noopener noreferrer">Donate</a>
    </div>
  </footer>

  <script src="javascript/script.js?v=28"></script>
</body>

</html>


